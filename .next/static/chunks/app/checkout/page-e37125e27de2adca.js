(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{876:function(e,t,r){Promise.resolve().then(r.bind(r,7035))},7035:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r(7437),s=r(2265),l=r(7648),n=r(3145),i=r(9763);let o=(0,i.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),d=(0,i.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),c=(0,i.Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var m=r(8226),u=r(3827),x=r(9376),p=()=>{let{state:e,clearCart:t}=(0,u.j)(),r=(0,x.useRouter)(),[i,p]=(0,s.useState)({name:"",phone:"",email:"",address:"",city:"",postalCode:""}),h=e=>{p({...i,[e.target.name]:e.target.value})},y=e=>{alert("Processing ".concat(e.toUpperCase()," payment...")),t(),r.push("/dashboard")},f=e.selectedPlan?e.selectedPlan.price+e.totalPrice:e.totalPrice;return 0!==e.totalItems||e.selectedPlan?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-cream-50 to-primary-50 py-12",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)(l.default,{href:"/meals",className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 transition-colors",children:[(0,a.jsx)(o,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Back to Menu"})]})}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg animate-slide-up",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Delivery Information"}),(0,a.jsxs)("form",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),(0,a.jsx)("input",{type:"text",name:"name",value:i.name,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-300",placeholder:"Enter your full name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),(0,a.jsx)("input",{type:"tel",name:"phone",value:i.phone,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-300",placeholder:"+254 7XX XXX XXX",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),(0,a.jsx)("input",{type:"email",name:"email",value:i.email,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-300",placeholder:"your.email@example.com",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Delivery Address *"}),(0,a.jsx)("textarea",{name:"address",value:i.address,onChange:h,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-300 resize-none",placeholder:"Enter your full delivery address",required:!0})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City *"}),(0,a.jsx)("input",{type:"text",name:"city",value:i.city,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-300",placeholder:"Nairobi",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Postal Code"}),(0,a.jsx)("input",{type:"text",name:"postalCode",value:i.postalCode,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-300",placeholder:"00100"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg animate-slide-up",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Order Summary"}),e.selectedPlan&&(0,a.jsxs)("div",{className:"border-b border-gray-200 pb-4 mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Subscription Plan"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-700",children:e.selectedPlan.name}),(0,a.jsxs)("span",{className:"font-bold text-primary-600",children:["KES ",e.selectedPlan.price.toLocaleString()]})]})]}),e.items.length>0&&(0,a.jsxs)("div",{className:"border-b border-gray-200 pb-4 mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:"Selected Meals"}),(0,a.jsx)("div",{className:"space-y-3",children:e.items.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(n.default,{src:e.meal.image,alt:e.meal.name,width:48,height:48,className:"rounded-lg object-cover"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-800",children:e.meal.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Qty: ",e.quantity]})]})]}),(0,a.jsxs)("span",{className:"font-semibold text-primary-600",children:["KES ",(e.meal.price*e.quantity).toLocaleString()]})]},e.meal.id))})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-xl font-bold",children:[(0,a.jsx)("span",{className:"text-gray-800",children:"Total Amount:"}),(0,a.jsxs)("span",{className:"text-primary-600",children:["KES ",f.toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg animate-slide-up",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center space-x-2",children:[(0,a.jsx)(d,{className:"h-6 w-6 text-secondary-600"}),(0,a.jsx)("span",{children:"Secure Payment"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>y("mpesa"),className:"w-full group bg-secondary-600 hover:bg-secondary-700 text-white p-6 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-3",children:[(0,a.jsx)(c,{className:"h-6 w-6 group-hover:scale-110 transition-transform"}),(0,a.jsx)("span",{children:"Pay with M-PESA"})]}),(0,a.jsxs)("button",{onClick:()=>y("crypto"),className:"w-full group bg-accent-600 hover:bg-accent-700 text-white p-6 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-3",children:[(0,a.jsx)(m.Z,{className:"h-6 w-6 group-hover:scale-110 transition-transform"}),(0,a.jsx)("span",{children:"Pay with Crypto"})]})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Your payment is secured with 256-bit SSL encryption"})})]})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-cream-50 to-primary-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Add some delicious meals to get started!"}),(0,a.jsxs)(l.default,{href:"/meals",className:"bg-primary-600 hover:bg-primary-700 text-white px-8 py-3 rounded-xl font-semibold transition-all duration-300 inline-flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"Browse Meals"}),(0,a.jsx)(o,{className:"h-5 w-5 rotate-180"})]})]})})}},3827:function(e,t,r){"use strict";r.d(t,{CartProvider:function(){return o},j:function(){return d}});var a=r(7437),s=r(2265);let l=(0,s.createContext)(void 0),n=(e,t)=>{switch(t.type){case"ADD_MEAL":if(e.items.find(e=>e.meal.id===t.payload.id))return{...e,items:e.items.map(e=>e.meal.id===t.payload.id?{...e,quantity:e.quantity+1}:e),totalItems:e.totalItems+1,totalPrice:e.totalPrice+t.payload.price};return{...e,items:[...e.items,{meal:t.payload,quantity:1}],totalItems:e.totalItems+1,totalPrice:e.totalPrice+t.payload.price};case"REMOVE_MEAL":let r=e.items.find(e=>e.meal.id===t.payload);if(!r)return e;if(r.quantity>1)return{...e,items:e.items.map(e=>e.meal.id===t.payload?{...e,quantity:e.quantity-1}:e),totalItems:e.totalItems-1,totalPrice:e.totalPrice-r.meal.price};return{...e,items:e.items.filter(e=>e.meal.id!==t.payload),totalItems:e.totalItems-1,totalPrice:e.totalPrice-r.meal.price};case"SELECT_PLAN":return{...e,selectedPlan:t.payload};case"CLEAR_CART":return{items:[],selectedPlan:null,totalItems:0,totalPrice:0};default:return e}},i={items:[],selectedPlan:null,totalItems:0,totalPrice:0},o=e=>{let{children:t}=e,[r,o]=(0,s.useReducer)(n,i);return(0,a.jsx)(l.Provider,{value:{state:r,addMeal:e=>{o({type:"ADD_MEAL",payload:e})},removeMeal:e=>{o({type:"REMOVE_MEAL",payload:e})},selectPlan:e=>{o({type:"SELECT_PLAN",payload:e})},clearCart:()=>{o({type:"CLEAR_CART"})}},children:t})},d=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},9763:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var a=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{color:i="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:m="",children:u,...x}=r;return(0,a.createElement)("svg",{ref:n,...s,width:o,height:o,stroke:i,strokeWidth:c?24*Number(d)/Number(o):d,className:["lucide","lucide-".concat(l(e)),m].join(" "),...x},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])});return r.displayName="".concat(e),r}},8226:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},3145:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(8461),s=r.n(a)},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(2972),s=r.n(a)},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},8461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return o},getImageProps:function(){return i}});let a=r(7043),s=r(5346),l=r(5878),n=a._(r(5084));function i(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let o=l.Image}},function(e){e.O(0,[878,972,971,117,744],function(){return e(e.s=876)}),_N_E=e.O()}]);